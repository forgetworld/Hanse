# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
#GET        /                    controllers.Application.index

# Map static resources from the /public folder to the /assets URL path
GET           /assets/*file                                            controllers.Assets.versioned(path="/public", file: Asset)

#----------首页接口----------
#首页专题
GET           /columns                                                 @controllers.MiscCtrl.getColumns()

#首页专题商品列表
GET           /columns/commodities                                     @controllers.MiscCtrl.getCommoditiesByTopic(topicType: String)

#首页推荐商品列表
GET           /marketplace/commodities/recommendations                 @controllers.MiscCtrl.getRecommendCommodities()

#----------商品接口----------
# 商品详情
GET           /marketplace/commodities/$id<\d+>                        @controllers.CommodityCtrl.getCommodityDetail(id: Long,version: Option[Long] ?= None)

#商品列表
GET           /marketplace/commodities                                 @controllers.CommodityCtrl.getCommodities(seller: Option[Long] ?= None,locality: Option[String] ?= None,category:Option[String] ?= None, sortBy: String?="salesVolume", sort: String?="desc", start: Int?=0, count: Int?=10)

#商品分类列表
GET           /marketplace/commodities/categories                      @controllers.CommodityCtrl.getCommodityCategory(locality:String)

#评论商品
POST          /marketplace/commodities/$id<\d+>/comments               @controllers.CommodityCtrl.addComment(id:Long)

#展示商品评论
GET           /marketplace/commodities/$id<\d+>/comments               @controllers.CommodityCtrl.getComment(id:Long)

#----------商户接口----------
#商户详情
GET           /marketplace/sellers/$id<\d+>                            @controllers.SellerCtrl.getSeller(id:Long)
#申请开店
POST          /marketplace/sellers/application                         @controllers.SellerCtrl.becomeSeller()

#----------订单接口----------
#修改订单状态
POST          /marketplace/orders/$orderId<\d+>/actions                @controllers.TradeCtrl.operateOrder(orderId:Long)

#创建订单
POST          /marketplace/orders                                      @controllers.TradeCtrl.createOrder()

#订单列表
GET           /marketplace/orders                                      @controllers.TradeCtrl.getOrders(userId: Long, status: Option[String] ?= None,start: Int?=0, count: Int?=10)

#订单详情
GET           /marketplace/orders/$orderId<\d+>                        @controllers.TradeCtrl.getOrderInfo(orderId: Long)

#订单状态
GET           /marketplace/orders/$orderId<\d+>/status                 @controllers.TradeCtrl.getOrderStatus(orderId: Long)

#添加旅客信息
POST          /users/$userId<\d+>/travellers                           @controllers.TravellerCtrl.addTraveller(userId:Long)

#修改旅客信息
PUT           /users/$userId<\d+>/travellers/$key<[0-9a-f]{24}>        @controllers.TravellerCtrl.updateTraveller(key: String,userId:Long)

#删除旅客信息
DELETE        /users/$userId<\d+>/travellers/$key<[0-9a-f]{24}>        @controllers.TravellerCtrl.deleteTraveller(key: String,userId:Long)

#获取旅客信息
GET           /users/$userId<\d+>/travellers/$key<[0-9a-f]{24}>        @controllers.TravellerCtrl.getTraveller(key: String,userId:Long)

#获取旅客信息列表
GET           /users/$userId<\d+>/travellers                           @controllers.TravellerCtrl.getTravellerList(userId:Long)

#----------支付接口----------
#微信预支付
POST          /marketplace/orders/$id<\d+>/payments                    @controllers.PaymentCtrl.createPayments(id:Long)

#微信回调
POST          /marketplace/orders/payment-webhook/wechat               @controllers.PaymentCtrl.wechatCallback()

#支付宝回调
POST          /marketplace/orders/payment-webhook/alipay               @controllers.PaymentCtrl.alipayCallback()

#退款
POST          /marketplace/orders/$id<\d+>/refund                      @controllers.PaymentCtrl.refund(id:Long)

#----------收藏接口----------
#展示收藏
GET           /users/$userId<\d+>/favorites                            @controllers.MiscCtrl.getFavorite(userId:Long,itemType:String)
#添加收藏
POST          /users/$userId<\d+>/favorites                            @controllers.MiscCtrl.addFavorite(userId:Long)
#删除收藏
DELETE        /users/$userId<\d+>/favorites/:itemType/:itemId          @controllers.MiscCtrl.delFavorite(userId:Long,itemType:String,itemId:String)

GET           /ping                                                    @controllers.MiscCtrl.ping()